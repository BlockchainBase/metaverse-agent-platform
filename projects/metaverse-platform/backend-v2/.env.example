# ============================================
# 数字人元宇宙平台 - 生产环境配置
# ============================================

# --------------------------------------------
# 基础配置
# --------------------------------------------
NODE_ENV=development
PORT=3000
CORS_ORIGIN=http://localhost:5173,http://localhost:3001

# --------------------------------------------
# 数据库配置
# --------------------------------------------
DATABASE_URL="file:./dev.db"
# 生产环境建议:
# DATABASE_URL="postgresql://user:password@localhost:5432/metaverse?schema=public"

# Prisma连接池配置（PostgreSQL）
# DATABASE_CONNECTION_LIMIT=20
# DATABASE_POOL_TIMEOUT=30

# --------------------------------------------
# JWT认证配置
# --------------------------------------------
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-min-32-chars"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_SECRET="your-refresh-secret-key-change-this-in-production-min-32-chars"
JWT_REFRESH_EXPIRES_IN="30d"

# --------------------------------------------
# LLM配置
# --------------------------------------------
# OpenAI (推荐)
LLM_PROVIDER=openai
LLM_API_KEY=sk-your-openai-api-key
LLM_MODEL=gpt-4o-mini
EMBEDDING_MODEL=text-embedding-3-small

# 或 OpenRouter (支持多模型)
# LLM_PROVIDER=openrouter
# LLM_API_KEY=sk-your-openrouter-api-key
# LLM_BASE_URL=https://openrouter.ai/api/v1
# LLM_MODEL=anthropic/claude-3.5-sonnet

# 或本地模型 Ollama
# LLM_PROVIDER=local
# LLM_API_KEY=ollama
# LLM_BASE_URL=http://localhost:11434/v1
# LLM_MODEL=llama3.2

# --------------------------------------------
# 向量数据库配置
# --------------------------------------------
# SQLite本地存储 (默认，开发环境)
VECTOR_PROVIDER=sqlite
VECTOR_DIMENSION=1536

# Pinecone云存储 (推荐生产环境)
# VECTOR_PROVIDER=pinecone
# PINECONE_API_KEY=your-pinecone-api-key
# PINECONE_INDEX_NAME=metaverse-knowledge

# Qdrant配置
# VECTOR_PROVIDER=qdrant
# QDRANT_URL=http://localhost:6333
# QDRANT_API_KEY=your-qdrant-api-key

# --------------------------------------------
# Redis缓存配置 (可选)
# --------------------------------------------
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# CACHE_TTL=3600

# --------------------------------------------
# 文件上传配置
# --------------------------------------------
UPLOAD_MAX_SIZE=52428800
UPLOAD_ALLOWED_TYPES=application/pdf,text/plain,text/markdown,application/vnd.openxmlformats-officedocument.wordprocessingml.document
UPLOAD_DIR=./uploads

# --------------------------------------------
# 日志配置
# --------------------------------------------
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_ERROR_FILE=./logs/error.log

# --------------------------------------------
# 安全配置
# --------------------------------------------
# API速率限制 (请求/分钟)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
STRICT_RATE_LIMIT_MAX_REQUESTS=10

# --------------------------------------------
# WebSocket配置
# --------------------------------------------
WS_HEARTBEAT_INTERVAL=30000
WS_PING_TIMEOUT=60000

# --------------------------------------------
# 监控配置 (可选)
# --------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn
# SENTRY_ENVIRONMENT=production
