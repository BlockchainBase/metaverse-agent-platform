# æ•°å­—äººå…ƒå®‡å®™å¹³å° - å¿«é€Ÿå¼€å§‹

**ç‰ˆæœ¬**: v4.0.0 Phase 4
**æœ€åæ›´æ–°**: 2026-02-14

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
metaverse-platform/
â”œâ”€â”€ backend-v2/              # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # APIæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶ï¼ˆè®¤è¯ã€æ—¥å¿—ã€éªŒè¯ï¼‰
â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts         # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma    # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ dist/                # ç¼–è¯‘è¾“å‡º
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ metaverse-office/
    â””â”€â”€ src/frontend/        # å‰ç«¯3Dåº”ç”¨
        â”œâ”€â”€ src/
        â”‚   â”œâ”€â”€ components/  # Reactç»„ä»¶
        â”‚   â”œâ”€â”€ hooks/       # è‡ªå®šä¹‰Hooks
        â”‚   â”œâ”€â”€ services/    # APIæœåŠ¡
        â”‚   â””â”€â”€ App.tsx      # ä¸»åº”ç”¨
        â””â”€â”€ package.json
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åç«¯

```bash
cd metaverse-platform/backend-v2

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env è®¾ç½®å¿…è¦çš„é…ç½®

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate dev

# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npx prisma generate

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:3000`

### 2. å¯åŠ¨å‰ç«¯

```bash
cd metaverse-office/src/frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯åº”ç”¨è¿è¡Œåœ¨ `http://localhost:5173`

---

## ğŸ”‘ å…³é”®é…ç½®

### ç¯å¢ƒå˜é‡ (.env)

```bash
# åŸºç¡€é…ç½®
NODE_ENV=development
PORT=3000
CORS_ORIGIN=http://localhost:5173

# æ•°æ®åº“
DATABASE_URL="file:./dev.db"

# JWTè®¤è¯ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨å¼ºå¯†é’¥ï¼‰
JWT_SECRET="your-super-secret-key-min-32-characters"
JWT_EXPIRES_IN="7d"

# LLMé…ç½®ï¼ˆOpenAIç¤ºä¾‹ï¼‰
LLM_PROVIDER=openai
LLM_API_KEY=sk-your-openai-key
LLM_MODEL=gpt-4o-mini

# å‘é‡æ•°æ®åº“
VECTOR_PROVIDER=sqlite
```

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è¯´æ˜ | è·¯å¾„ |
|------|------|------|
| æ£€æŸ¥æŠ¥å‘Š | å®Œæ•´æ£€æŸ¥ç»“æœ | `CHECK_REPORT.md` |
| ä¿®å¤æ¸…å• | æ‰€æœ‰ä¿®å¤è®°å½• | `FIXES.md` |
| æµ‹è¯•æŠ¥å‘Š | æµ‹è¯•ç»“æœæ±‡æ€» | `TEST_REPORT.md` |
| ä¼˜åŒ–å»ºè®® | æ¶æ„å’Œæ€§èƒ½å»ºè®® | `OPTIMIZATION_GUIDE.md` |
| APIæ–‡æ¡£ | è‡ªåŠ¨ç”Ÿæˆçš„APIæ–‡æ¡£ | `GET /api/docs` |
| SDKæ–‡æ¡£ | SDKä½¿ç”¨è¯´æ˜ | `API-PHASE3.md` |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### Phase 1 - åŸºç¡€åŠŸèƒ½ âœ…
- [x] Agentç®¡ç†
- [x] ä»»åŠ¡ç³»ç»Ÿ
- [x] ä¼šè®®ç³»ç»Ÿ
- [x] æµç¨‹å¼•æ“

### Phase 2 - åä½œå¢å¼º âœ…
- [x] ä»»åŠ¡å§”æ´¾
- [x] åä½œæ¨¡å¼
- [x] ä»»åŠ¡ä¾èµ–
- [x] å®æ—¶å¯è§†åŒ–

### Phase 3 - æ™ºèƒ½å¢å¼º âœ…
- [x] çŸ¥è¯†åº“RAG
- [x] LLMè§’è‰²æ‰®æ¼”
- [x] æ™ºèƒ½ä»»åŠ¡åŒ¹é…
- [x] è‡ªç„¶è¯­è¨€æŒ‡ä»¤
- [x] å·¥ä½œæµè‡ªåŠ¨åŒ–
- [x] Agentç‰ˆæœ¬ç®¡ç†

### Phase 4 - 3Då…ƒå®‡å®™ âœ…
- [x] 3Dåœºæ™¯æ¸²æŸ“
- [x] å®æ—¶AgentåŒæ­¥
- [x] WebSocketæˆ¿é—´
- [x] ä»»åŠ¡æµå¯è§†åŒ–
- [x] åä½œç½‘ç»œå›¾
- [x] ç®¡ç†ä¸­æ¢

---

## ğŸ” å®‰å…¨ç‰¹æ€§

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| JWTè®¤è¯ | âœ… | æ‰€æœ‰APIå—ä¿æŠ¤ |
| è¾“å…¥éªŒè¯ | âœ… | Zod schemaéªŒè¯ |
| SQLæ³¨å…¥é˜²æŠ¤ | âœ… | ORM + ä¸­é—´ä»¶ |
| XSSé˜²æŠ¤ | âœ… | è¾“å…¥æ¸…ç† + Helmet |
| é€Ÿç‡é™åˆ¶ | âœ… | 100è¯·æ±‚/åˆ†é’Ÿ |
| CORSé…ç½® | âœ… | ç™½åå•æ¨¡å¼ |
| è¯·æ±‚æ—¥å¿— | âœ… | å®Œæ•´è®¿é—®è®°å½• |
| é”™è¯¯è¿½è¸ª | âœ… | ç»“æ„åŒ–é”™è¯¯å¤„ç† |

---

## ğŸ§ª æµ‹è¯•å‘½ä»¤

### åç«¯

```bash
# ä»£ç æ£€æŸ¥
npx eslint src/

# TypeScriptç¼–è¯‘
npm run build

# å®‰å…¨æ£€æŸ¥
npm audit

# å•å…ƒæµ‹è¯•
npm test
```

### å‰ç«¯

```bash
# ä»£ç æ£€æŸ¥
npm run lint

# TypeScriptæ£€æŸ¥
npm run type-check

# æ„å»º
npm run build
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: æ•°æ®åº“è¿ç§»å¤±è´¥ï¼Ÿ
```bash
# é‡ç½®æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npx prisma migrate reset

# æˆ–åˆ é™¤dev.dbåé‡æ–°è¿ç§»
rm prisma/dev.db
npx prisma migrate dev
```

### Q: WebSocketè¿æ¥å¤±è´¥ï¼Ÿ
- æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥CORSé…ç½®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### Q: å‰ç«¯3Dåœºæ™¯åŠ è½½æ…¢ï¼Ÿ
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¦ç”¨æµè§ˆå™¨æ‰©å±•
- ä½¿ç”¨Chrome/Edgeæµè§ˆå™¨

---

## ğŸ“ æ¥å£åœ°å€

| æœåŠ¡ | åœ°å€ |
|------|------|
| åç«¯API | `http://localhost:3000/api` |
| å¥åº·æ£€æŸ¥ | `http://localhost:3000/health` |
| APIæ–‡æ¡£ | `http://localhost:3000/api/docs` |
| WebSocket | `ws://localhost:3000` |
| å‰ç«¯åº”ç”¨ | `http://localhost:5173` |

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v4.0.0 (2026-02-14)
- âœ… å®ŒæˆPhase 4: 3Då…ƒå®‡å®™åŠŸèƒ½
- âœ… æ·»åŠ JWTè®¤è¯ç³»ç»Ÿ
- âœ… æ·»åŠ è¯·æ±‚æ—¥å¿—å’Œé”™è¯¯è¿½è¸ª
- âœ… æ·»åŠ è¾“å…¥éªŒè¯å’Œå®‰å…¨é˜²æŠ¤
- âœ… ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•
- âœ… ä¼˜åŒ–å‰ç«¯ç»„ä»¶æ€§èƒ½

### v3.0.0 (Phase 3)
- çŸ¥è¯†åº“RAG
- LLMè§’è‰²æ‰®æ¼”
- æ™ºèƒ½ä»»åŠ¡åŒ¹é…

### v2.0.0 (Phase 2)
- ä»»åŠ¡åä½œ
- å®æ—¶å¯è§†åŒ–

### v1.0.0 (Phase 1)
- åŸºç¡€åŠŸèƒ½
- Agentç®¡ç†

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/xxx`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/xxx`)
5. åˆ›å»ºPull Request

---

## ğŸ“„ è®¸å¯è¯

ISC License

---

**å¿«é€Ÿé“¾æ¥**:
- [é—®é¢˜åé¦ˆ](../../issues)
- [åŠŸèƒ½å»ºè®®](../../discussions)
- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)

**ç»´æŠ¤è€…**: OpenClaw Agent
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
